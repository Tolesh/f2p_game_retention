# üì± –í–∞—Ä–∏–∞–Ω—Ç 1 ‚Äî –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –º–æ–±–∏–ª—å–Ω–æ–π –∏–≥—Ä—ã: Retention, A/B-—Ç–µ—Å—Ç, Event-–º–µ—Ç—Ä–∏–∫–∏

–£—á–µ–±–Ω—ã–π –ø—Ä–æ–µ–∫—Ç (Karpov.Courses). –ò—Å—Å–ª–µ–¥—É–µ–º –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–æ–≤: —Å—á–∏—Ç–∞–µ–º retention, –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã A/B-—Ç–µ—Å—Ç–∞ –ø—Ä–æ–º–æ-–æ—Ñ—Ñ–µ—Ä–æ–≤ –∏ –≤—ã–±–∏—Ä–∞–µ–º –º–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –æ—Ü–µ–Ω–∫–∏ —Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–æ–±—ã—Ç–∏—è (–∏–≤–µ–Ω—Ç–∞).

## üéØ –¶–µ–ª–∏ –ø—Ä–æ–µ–∫—Ç–∞
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é —Ä–∞—Å—á—ë—Ç–∞ **retention** –ø–æ –¥–Ω—è–º –æ—Ç –¥–∞—Ç—ã —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏.
- –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å **A/B-—Ç–µ—Å—Ç** –Ω–∞–±–æ—Ä–æ–≤ –∞–∫—Ü–∏–æ–Ω–Ω—ã—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π.
- –ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å **–º–µ—Ç—Ä–∏–∫–∏ –æ—Ü–µ–Ω–∫–∏** –ø—Ä–æ—à–µ–¥—à–µ–≥–æ —Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–æ–±—ã—Ç–∏—è –∏ –∏—Ö –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏ –¥–ª—è —É—Å–ª–æ–∂–Ω—ë–Ω–Ω–æ–π –º–µ—Ö–∞–Ω–∏–∫–∏.

## üßæ –î–∞–Ω–Ω—ã–µ
- `shared/problem1-reg_data.csv` ‚Äî —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ (`reg_ts`, `uid`)
- `shared/problem1-auth_data.csv` ‚Äî –≤–∏–∑–∏—Ç—ã –≤ –∏–≥—Ä—É (`auth_ts`, `uid`)
- A/B-–¥–∞–Ω–Ω—ã–µ (–ø—Ä–∏–º–µ—Ä —Ñ–æ—Ä–º–∞—Ç–∞):
user_id revenue testgroup
1 0 b
2 0 a
3 0 a
4 0 b
5 0 b

## üõ†Ô∏è –°—Ç–µ–∫
**Python**: pandas, numpy, matplotlib, seaborn, scipy  
**–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã**: Jupyter Notebook

## üîç –ó–∞–¥–∞–Ω–∏–µ 1 ‚Äî Retention
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ–≥–æ—Ä—Ç (–ø–æ –¥–∞—Ç–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏).
- –†–∞—Å—á—ë—Ç D1/D7/D14/D30 –∏ –¥–Ω–µ–≤–Ω–æ–≥–æ retention.
- –ü—Ä–æ–≤–µ—Ä–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –¥–∞–Ω–Ω—ã—Ö (–¥—É–±–ª–∏–∫–∞—Ç—ã, –ø—Ä–æ–ø—É—Å–∫–∏, –¥–∏–∞–ø–∞–∑–æ–Ω—ã –¥–∞—Ç).
- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è: heatmap –∫–æ–≥–æ—Ä—Ç, –∫—Ä–∏–≤—ã–µ —É–¥–µ—Ä–∂–∞–Ω–∏—è.

## üß™ –ó–∞–¥–∞–Ω–∏–µ 2 ‚Äî A/B-—Ç–µ—Å—Ç –ø—Ä–æ–º–æ-–æ—Ñ—Ñ–µ—Ä–æ–≤
–ò—Å—Ö–æ–¥–Ω–æ –∏–∑–≤–µ—Å—Ç–Ω–æ: **ARPU —Ç–µ—Å—Ç–∞ –≤—ã—à–µ –Ω–∞ 5%**, –ø—Ä–∏ —ç—Ç–æ–º:
- **Control**: 1928 –ø–ª–∞—Ç—è—â–∏—Ö –∏–∑ 202,103
- **Test**: 1805 –ø–ª–∞—Ç—è—â–∏—Ö –∏–∑ 202,667

–ß—Ç–æ –¥–µ–ª–∞–µ–º:
- –°—á–∏—Ç–∞–µ–º –∫–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏: **CR**, **ARPPU**, **ARPU**, **Revenue uplift**.
- –°—Ç–∞—Ç–ø—Ä–æ–≤–µ—Ä–∫–∏: `t-test` / –Ω–µ–ø–∞—Ä–∞–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏–π —Ç–µ—Å—Ç (–ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏), –±—É—Ç—Å—Ç—Ä–∞–ø –¥–ª—è —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏ –æ—Ü–µ–Ω–æ–∫.
- –ê–Ω–∞–ª–∏–∑ **–∑–Ω–∞—á–∏–º–æ—Å—Ç–∏** –∏ **–ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–π –∑–Ω–∞—á–∏–º–æ—Å—Ç–∏** (—ç—Ñ—Ñ–µ–∫—Ç vs –¥–æ–≤–µ—Ä–∏—Ç–µ–ª—å–Ω—ã–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã).

## üìä –ó–∞–¥–∞–Ω–∏–µ 3 ‚Äî –ú–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –∏–≤–µ–Ω—Ç–∞
**–ë–∞–∑–æ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏ —Å–æ–±—ã—Ç–∏—è**:
- –£—á–∞—Å—Ç–∏–µ: –¥–æ–ª—è —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤, MAU/DAU —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤, –∫–æ–Ω–≤–µ—Ä—Å–∏—è –≤ —É—á–∞—Å—Ç–∏–µ.
- –ü—Ä–æ–≥—Ä–µ—Å—Å: —Å—Ä–µ–¥–Ω–∏–π –¥–æ—Å—Ç–∏–≥–Ω—É—Ç—ã–π —É—Ä–æ–≤–µ–Ω—å, % –∑–∞–≤–µ—Ä—à–∏–≤—à–∏—Ö, —Å—Ä–µ–¥–Ω–µ–µ —á–∏—Å–ª–æ –ø–æ–ø—ã—Ç–æ–∫.
- –ú–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è: ARPU/ARPPU —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤, –¥–æ–ª—è –ø–æ–∫—É–ø–æ–∫, –≤—ã—Ä—É—á–∫–∞ –Ω–∞ —É—á–∞—Å—Ç–Ω–∏–∫–∞.
- –ü–æ–≤–µ–¥–µ–Ω–∏–µ: —Å–µ—Å—Å–∏–∏, —Å—Ä–µ–¥–Ω—è—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –≤–æ–∑–≤—Ä–∞—Ç—ã –≤ –¥–Ω–∏ –∏–≤–µ–Ω—Ç–∞, stickiness.
- –≠–∫–æ–Ω–æ–º–∏–∫–∞: –∑–∞—Ç—Ä–∞—Ç—ã –Ω–∞ –Ω–∞–≥—Ä–∞–¥—ã/–±–∞–ª–∞–Ω—Å, –≤–ª–∏—è–Ω–∏–µ –Ω–∞ LTV/retention –ø–æ—Å–ª–µ –∏–≤–µ–Ω—Ç–∞.

**–ï—Å–ª–∏ –º–µ—Ö–∞–Ω–∏–∫–∞ —É—Å–ª–æ–∂–Ω–µ–Ω–∞ (–æ—Ç–∫–∞—Ç —É—Ä–æ–≤–Ω–µ–π –ø—Ä–∏ –ø—Ä–æ–≤–∞–ª–µ)** ‚Äî –¥–æ–±–∞–≤–ª—è–µ–º:
- –ú–µ—Ç—Ä–∏–∫–∏ ¬´—Ñ—Ä–∏–∫—Ü–∏–∏¬ª: —Å—Ä–µ–¥–Ω–µ–µ —á–∏—Å–ª–æ –æ—Ç–∫–∞—Ç–æ–≤, —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ–ø—ã—Ç–æ–∫ –Ω–∞ —É—Ä–æ–≤–µ–Ω—å, –≤—Ä–µ–º—è –¥–æ –ø–µ—Ä–≤–æ–π –ø–æ–±–µ–¥—ã –ø–æ—Å–ª–µ –æ—Ç–∫–∞—Ç–∞.
- –ê–Ω–∞–ª–∏–∑ –≤–æ—Ä–æ–Ω–∫–∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞: –º–µ—Å—Ç–∞ –Ω–∞–∏–±–æ–ª—å—à–∏—Ö –ø–æ—Ç–µ—Ä—å, —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –±–∞–∑–æ–≤—ã–º –∏–≤–µ–Ω—Ç–æ–º.
- –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏–∏: —á–∞—Å—Ç–æ—Ç–∞ –ø–æ–∫—É–ø–æ–∫ –±—É—Å—Ç–µ—Ä–æ–≤/—ç–Ω–µ—Ä–≥–∏–∏, ARPPU –ø–æ —Å–µ–≥–º–µ–Ω—Ç–∞–º —Å–ª–æ–∂–Ω–æ—Å—Ç–∏.

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

### üìä Retention
- –†–∞—Å—Å—á–∏—Ç–∞–Ω –∫–æ–≥–æ—Ä—Ç–Ω—ã–π retention –Ω–∞ 14 –¥–Ω–µ–π.
- –°—Ä–µ–¥–Ω–∏–π D7 retention: **~6‚Äì7%**.
- –ù–∏–∂–µ ‚Äî —Ç–µ–ø–ª–æ–≤–∞—è –∫–∞—Ä—Ç–∞ —É–¥–µ—Ä–∂–∞–Ω–∏—è:

![Cohort Retention Heatmap](images/retention_heatmap.png)

---

### üß™ A/B-—Ç–µ—Å—Ç –∞–∫—Ü–∏–æ–Ω–Ω—ã—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π
**–ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏:**
- CR (–¥–æ–ª—è –ø–ª–∞—Ç—è—â–∏—Ö)
- ARPU (—Å—Ä–µ–¥–Ω—è—è –≤—ã—Ä—É—á–∫–∞ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
- ARPPU (—Å—Ä–µ–¥–Ω—è—è –≤—ã—Ä—É—á–∫–∞ –Ω–∞ –ø–ª–∞—Ç—è—â–µ–≥–æ)

**–ò—Ç–æ–≥–∏ –ø–æ –≥—Ä—É–ø–ø–∞–º:**
- –ì—Ä—É–ø–ø–∞ A (–∫–æ–Ω—Ç—Ä–æ–ª—å): CR = **0.95%**, ARPU = **25.41**, ARPPU = **2664.00**
- –ì—Ä—É–ø–ø–∞ B (—Ç–µ—Å—Ç): CR = **0.89%**, ARPU = **26.75**, ARPPU = **3003.66**

**–°—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞:**
- –†–∞–∑–Ω–∏—Ü–∞ CR (B‚àíA): **‚àí0.06 –ø.–ø.**; Z-—Ç–µ—Å—Ç p-value = 0.035 ‚Üí –∑–Ω–∞—á–∏–º–æ –Ω–∞ 5% —É—Ä–æ–≤–Ω–µ.
- –†–∞–∑–Ω–∏—Ü–∞ ARPU (B‚àíA): **+1.34**; 95% CI Welch [‚àí2.87; 5.54] ‚Üí —Ä–∞–∑–ª–∏—á–∏—è **–Ω–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω—ã**.
- –†–∞–∑–Ω–∏—Ü–∞ ARPPU (B‚àíA): **+339.66**; 95% CI Welch [‚àí65.38; 744.70].

**–ë–∏–∑–Ω–µ—Å-–∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è:**
- Uplift: ARPU +5.26%, CR ‚àí6.64%, ARPPU +12.75%.

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
- –†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ ARPU –Ω–µ—É–±–µ–¥–∏—Ç–µ–ª–µ–Ω ‚Üí –ø–æ–≤—Ç–æ—Ä–∏—Ç—å —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç –∏–ª–∏ –¥–æ—Ä–∞–±–æ—Ç–∞—Ç—å –æ—Ñ—Ñ–µ—Ä—ã.
- –ü—Ä–æ–≤–µ—Å—Ç–∏ —Å–µ–≥–º–µ–Ω—Ç–Ω—ã–π –∞–Ω–∞–ª–∏–∑ (–∫–∞–Ω–∞–ª, –≥–µ–æ, –∫–æ–≥–æ—Ä—Ç—ã, –ø–ª–∞—Ç—ë–∂–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è).
- –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–∞—Ä–∏–∞—Ü–∏–∏ –ø—Ä–∞–π—Å–∏–Ω–≥–∞ –∏ –ø–∞–∫–µ—Ç–æ–≤ –¥–ª—è —É–¥–µ—Ä–∂–∞–Ω–∏—è CR –ø—Ä–∏ —Ä–æ—Å—Ç–µ ARPPU.

---

### üìë –ò—Ç–æ–≥–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞
| –ì—Ä—É–ø–ø–∞ | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π | –ü–ª–∞—Ç—è—â–∏—Ö | –í—ã—Ä—É—á–∫–∞  | CR     | ARPU   | ARPPU  |
|--------|---------------|----------|----------|--------|--------|--------|
| A      | 202,103       | 1,928    | 5,136,189| 0.95%  | 25.41  | 2664.00|
| B      | 202,667       | 1,805    | 5,421,603| 0.89%  | 26.75  | 3003.66|


## ‚ñ∂Ô∏è –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å
- Python 3.10+
- `pip install -r requirements.txt`
- –û—Ç–∫—Ä—ã—Ç—å `notebooks/retention_abtest.ipynb`

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
project_1_mobile_game/
‚îú‚îÄ README.md
‚îú‚îÄ notebooks/
‚îÇ ‚îî‚îÄ retention_abtest.ipynb
‚îî‚îÄ data/ # (–µ—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –º–æ–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å)

### ‚ÑπÔ∏è –î–∏—Å–∫–ª–µ–π–º–µ—Ä
–£—á–µ–±–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω –≤ —Ä–∞–º–∫–∞—Ö –∫—É—Ä—Å–∞ [Karpov.Courses](https://karpov.courses).  
–°–æ–±–ª—é–¥–µ–Ω—ã —É—Å–ª–æ–≤–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —É—á–µ–±–Ω—ã—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤; –¥–æ—Å—Ç—É–ø—ã –∏ –∑–∞–∫—Ä—ã—Ç—ã–µ –¥–∞–Ω–Ω—ã–µ –Ω–µ –ø—É–±–ª–∏–∫—É—é—Ç—Å—è.
